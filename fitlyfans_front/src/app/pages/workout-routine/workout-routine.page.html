<!-- Página izquierda: Crear rutina -->
<div class="page-container" *ngIf="!showRoutineDetails">
  <ion-header class="ion-no-border">
    <ion-toolbar color="dark">
      <ion-buttons slot="start">
        <ion-button>
          <ion-icon name="arrow-back-outline"></ion-icon>
        </ion-button>
      </ion-buttons>
      <ion-title>Create Routine</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content color="dark">
    <div class="main-container">
      <!-- Sección 1: Detalles de la rutina -->
      <div class="section">
        <div class="section-header">
          <span class="section-number">1</span>
          <h3>Routine Details</h3>
        </div>

        <div class="form-group">
          <ion-label>Name</ion-label>
          <ion-input [(ngModel)]="routineName" placeholder="Full Body Blast"></ion-input>
        </div>

        <div class="form-group">
          <ion-textarea
            [(ngModel)]="routineDescription"
            placeholder="High intensity workout targeting all major muscle groups"
            rows="2"
          ></ion-textarea>
        </div>

        <div class="form-group">
          <ion-label>Difficulty</ion-label>
          <div class="difficulty-selector">
            <ion-segment [(ngModel)]="difficulty" color="success">
              <ion-segment-button value="beginner">
                <ion-label>Beginner</ion-label>
              </ion-segment-button>
              <ion-segment-button value="intermediate">
                <ion-label>Intermediate</ion-label>
              </ion-segment-button>
              <ion-segment-button value="advanced">
                <ion-label>Advanced</ion-label>
              </ion-segment-button>
            </ion-segment>
          </div>
        </div>

        <ion-item color="dark" detail lines="full" button>
          <ion-label>Category</ion-label>
          <ion-icon name="chevron-forward" slot="end"></ion-icon>
        </ion-item>
      </div>

      <!-- Sección 2: Añadir ejercicios -->
      <div class="section">
        <div class="section-header">
          <span class="section-number">2</span>
          <h3>Add Exercises</h3>
        </div>

        <div class="search-box">
          <ion-searchbar placeholder="Search exercises" color="dark"></ion-searchbar>
        </div>

        <ion-item color="dark" lines="full" button class="create-new">
          <ion-icon name="add" slot="start"></ion-icon>
          <ion-label>Create New Exercise</ion-label>
        </ion-item>

        <div class="exercise-list">
          <ion-item color="dark" detail lines="full" button class="exercise-item">
            <ion-thumbnail slot="start">
              <img src="assets/images/squat.jpg" alt="Squat">
            </ion-thumbnail>
            <ion-label>
              <h4>Squat</h4>
              <p>45 sec</p>
            </ion-label>
          </ion-item>

          <ion-item color="dark" detail lines="full" button class="exercise-item">
            <ion-thumbnail slot="start">
              <img src="assets/images/pushup.jpg" alt="Push-Up">
            </ion-thumbnail>
            <ion-label>
              <h4>Push-Up</h4>
              <p>3 × 10</p>
            </ion-label>
          </ion-item>
        </div>
      </div>

      <!-- Sección 3: Vista previa -->
      <div class="section">
        <div class="section-header">
          <span class="section-number">3</span>
          <h3>Preview</h3>
        </div>
      </div>

      <ion-button
        expand="block"
        color="success"
        class="next-button"
        (click)="showRoutineDetails = true"
      >
        Next
      </ion-button>
    </div>
  </ion-content>
</div>

<!-- Página derecha: Detalles de la rutina -->
<div class="page-container" *ngIf="showRoutineDetails">
  <ion-header class="ion-no-border">
    <ion-toolbar color="dark">
      <ion-buttons slot="start">
        <ion-button (click)="showRoutineDetails = false">
          <ion-icon name="arrow-back-outline"></ion-icon>
        </ion-button>
      </ion-buttons>
      <ion-title>Full Body Blast</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content color="dark">
    <div class="main-container">
      <!-- Círculo de progreso -->
      <div class="progress-circle-container">
        <div class="star-rating">
          <ion-icon name="star" color="success"></ion-icon>
          <span>4.8</span>
          <span class="unit">min</span>
        </div>

        <div class="circle-progress-wrapper">
          <circle-progress
            [percent]="75"
            [radius]="70"
            [outerStrokeWidth]="10"
            [innerStrokeWidth]="0"
            [outerStrokeColor]="'#8c46ff'"
            [outerStrokeGradientStopColor]="'#3ae374'"
            [outerStrokeGradient]="true"
            [showUnits]="false"
            [showBackground]="false"
            [title]="'75%'"
            [titleColor]="'#ffffff'"
            [titleFontSize]="'30'"
            [subtitle]="'Calorcal'"
            [subtitleColor]="'#aaaaaa'"
            [subtitleFontSize]="'14'"
            [animation]="true"
            [animationDuration]="300"
          ></circle-progress>
        </div>

        <div class="time-duration">
          <ion-icon name="time-outline"></ion-icon>
          <span>45 min</span>
        </div>
      </div>

      <!-- Gráfico de progreso semanal -->
      <div class="weekly-progress">
        <div class="progress-bars">
          <div class="progress-bar" *ngFor="let day of weekProgress; let i = index">
            <div class="bar" [style.height.%]="day"></div>
          </div>
        </div>
        <div class="progress-label">Weekly progress</div>
      </div>

      <!-- Detalles de tiempo -->
      <div class="time-details">
        <div class="detail">
          <span class="value">4</span>
          <span class="unit">45 sec</span>
        </div>
        <div class="detail">
          <span class="value">3 × 10</span>
        </div>
      </div>

      <!-- Lista de ejercicios -->
      <div class="section">
        <h3>Excercuises</h3>

        <div class="exercise-list detailed">
          <ion-item color="dark" lines="full" class="exercise-item">
            <ion-thumbnail slot="start">
              <img src="assets/images/jumping-jacks.jpg" alt="Jumping Jacks">
            </ion-thumbnail>
            <ion-label>
              <h4>Jumping Jacks</h4>
              <p>1 min</p>
            </ion-label>
            <div slot="end" class="duration">1 min</div>
          </ion-item>

          <ion-item color="dark" lines="full" class="exercise-item">
            <ion-thumbnail slot="start">
              <img src="assets/images/squat.jpg" alt="Squat">
            </ion-thumbnail>
            <ion-label>
              <h4>Squat</h4>
              <p>45 sec</p>
            </ion-label>
            <div slot="end" class="duration">45 sec</div>
          </ion-item>

          <ion-item color="dark" lines="full" class="exercise-item">
            <ion-thumbnail slot="start">
              <img src="assets/images/plank.jpg" alt="Plank">
            </ion-thumbnail>
            <ion-label>
              <h4>Plank</h4>
              <p>1 min</p>
            </ion-label>
            <div slot="end" class="duration">1 min</div>
          </ion-item>
        </div>
      </div>

      <!-- Video de muestra -->
      <div class="progress-section">
        <h3>Progress</h3>
        
        <div class="video-container">
          <img src="assets/images/workout-video.jpg" alt="Workout in progress">
          <div class="video-overlay">
            <div class="video-time">
              <span>00:12</span>
              <ion-progress-bar value="0.4"></ion-progress-bar>
              <span>2/3</span>
            </div>
          </div>
        </div>

        <div class="achievements-row">
          <div class="achievement">
            <ion-icon name="trophy" color="warning"></ion-icon>
            <div class="achievement-text">
              <span>7-Day</span>
              <span>Streak</span>
            </div>
          </div>

          <div class="achievement">
            <ion-icon name="ribbon" color="primary"></ion-icon>
            <span>Achievements</span>
          </div>

          <ion-button color="medium" fill="clear" class="share-button">
            Share progress
          </ion-button>
        </div>
      </div>
    </div>
  </ion-content>
</div>